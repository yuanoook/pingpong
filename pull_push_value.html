<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PP Demo</title>
    <style>
        html{height:100%;}
        body{margin:0;height:100%;transition:all 1s;color:#fff;display:table;width:100%;}
        div{display:table-cell;text-align:center;vertical-align:middle;}
    </style>
</head>
<body>
<div><span id="log1"></span></div>
<script>
    var count = 0;

    setInterval(function(){
        count++;

        pushValue(
            window,
            'document.body.style.backgroundColor',
            '#' + (Math.floor(Math.random()*255*255*255)).toString(16)
        );

        pushValue(log1,'style.fontSize',count+'px');

        pushValue(
            window,
            'log1.innerHTML',
            pullValue(
                window,
                'count'
            )
        );
    },1000);

    function pullValue(obj,key){
        var keys_arr = key.split('.');
        var subobj = obj;
        try{
            while(keys_arr.length)
                subobj = subobj[ keys_arr.shift() ];
            return subobj;
        }catch(e){}
    }

    function pushValue(obj,key,value){
        var subkey,
            subobj = obj,
            keys_arr = key.split('.');

        while(keys_arr.length>1)(
            subkey = keys_arr.shift(),
            subobj = subobj[subkey] = (
                !/Number|String|Null|Undefined/.test(Object.prototype.toString.call(subobj[subkey]))
                ? subobj[subkey]
                : {}
            )
        )

        subobj[ keys_arr.shift() ] = value;
    }
</script>
</body>
</html>
